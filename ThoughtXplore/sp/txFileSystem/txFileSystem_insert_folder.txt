/*insert a new folder*/

CREATE OR REPLACE FUNCTION txFileSystem_insert_folder(cuser INTEGER, folder_name text, folder_desc text, folder_type INTEGER) RETURNS VOID AS $$
 
DECLARE
  id INTEGER;
 
BEGIN 
 id=0;
 SELECT max(t."id") INTO id from "txFileSystem_folder_basics" t;
 IF id<>0 THEN
 	id=id+1;
 ELSE
    id= 1;
 END IF;
 INSERT INTO "txFileSystem_folder_basics" values (id, folder_name, folder_desc, folder_type, 1); 
 
 INSERT INTO "txFileSystem_creater_user"("folder_id_id","creater_uid_id") values(id, cuser);
 
  
END;
$$ LANGUAGE plpgsql;

/*insert a new file*/



CREATE OR REPLACE FUNCTION txFileSystem_files_basics(name_ text, desc_ text, url_ text, folder_id_ INTEGER, size_ INTEGER, file_type_id_ INTEGER,user_created_id_ INTEGER) RETURNS VOID AS $$
 
DECLARE
  id INTEGER;
 
BEGIN 
 id=0;
 SELECT max(t."id") INTO id from "txFileSystem_files_basics" t;
 IF id<>0 THEN
 	id=id+1;
 ELSE
    id= 1;
 END IF;
 INSERT INTO "txFileSystem_files_basics" values (id, name_, desc_, url_,folder_id_,size_, file_type_id_, user_created_id_, 1); 
 
 
  
END;
$$ LANGUAGE plpgsql;